<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Iceland&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

</head>
<style>
    * {
        padding: 0px;
        margin: 0px;
        text-align: center;
    }

    body {
        background-color: black;
        font-family: 'Roboto Condensed', sans-serif;
        letter-spacing: 0.1875rem;
    }

    html {
        box-sizing: border-box;
    }

    #clockdiv {
        color: whitesmoke;
        width: fit-content;
        margin-left: auto;
        margin-right: auto;
        display: flex;
        text-align: center;
        font-family: 'Iceland', cursive;
        font-size: 4.375rem;
    }

    #clockdiv div {
        margin: 1.875rem;
    }

    #title {
        color: whitesmoke;
        font-size: 2.5rem;
        margin-bottom: 1.875rem;
    }
</style>

<body>
    <p id="title">Time remaining to new Year</p>
    <div id="clockdiv">
        <div>
            <span class="days" id="day"></span>
            <div class="smalltext">Days</div>
        </div>
        <div>
            <span class="hours" id="hour"></span>
            <div class="smalltext">Hours</div>
        </div>
        <div>
            <span class="minutes" id="minute"></span>
            <div class="smalltext">Minutes</div>
        </div>
        <div>
            <span class="seconds" id="second"></span>
            <div class="smalltext">Seconds</div>
        </div>
    </div>
    <button id="notification_btn" type="button" class="btn btn-light" onclick="notifyMe()" style="font-weight: 900;font-size: 1.25rem;">turn
        on Notification</button>
    <p style="color: rgba(255, 255, 255, 0.616);margin-top: 30px;letter-spacing: 1px;">Here Harshkumar Vishwakarma I have created this website to wish
        everyone new year at correct 12:00 <br>please allow that notification by pressing that button and you will get
        Notification</p>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
        integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js"
        integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj"
        crossorigin="anonymous"></script>

    <script>

        var deadline = new Date("dec 31, 2020 23:59:59").getTime();

        var x = setInterval(function () {

            var now = new Date().getTime();
            var t = deadline - now;
            var days = Math.floor(t / (1000 * 60 * 60 * 24));
            var hours = Math.floor((t % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((t % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((t % (1000 * 60)) / 1000);
            document.getElementById("day").innerHTML = days;
            document.getElementById("hour").innerHTML = hours;
            document.getElementById("minute").innerHTML = minutes;
            document.getElementById("second").innerHTML = seconds;
            if (t < 0) {
                clearInterval(x);
                document.getElementById("day").innerHTML = '0';
                document.getElementById("hour").innerHTML = '0';
                document.getElementById("minute").innerHTML = '0';
                document.getElementById("second").innerHTML = '0';
            }
        }, 1000);


        function notifyMe() {
            if (!("Notification" in window)) {
                alert("This browser does not support desktop notification");
            }
            else if (Notification.permission === "granted") {
                 document.getElementById("notification_btn").style.display = "none";
            }
            else if (Notification.permission !== "denied") {
                Notification.requestPermission().then(function (permission) {
                    if (permission === "granted") {
                        document.getElementById("notification_btn").style.display = "none";
                        alert("Thank You for allowing notification");
                    }
                });
            }
        }
         if (Notification.permission === "granted") {
                document.getElementById("notification_btn").style.display = "none";
            }
        var today = new Date();
        var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
        setInterval(()=>{
            console.log(new Date().toLocaleTimeString());
            if (new Date().toLocaleTimeString() == "5:14:51 PM") {
                console.log(new Date().toLocaleTimeString());
                var options = {
                    body: 'Happy new Year from Harshkumar Vishwakarma',
                    icon: 'https://wallpaperaccess.com/full/4452155.jpg',
                    vibrate: [100, 50, 100]
                }
                var notification = new Notification("Happy new Year", options);
            }
        },1000);
    </script>

</body>

</html>